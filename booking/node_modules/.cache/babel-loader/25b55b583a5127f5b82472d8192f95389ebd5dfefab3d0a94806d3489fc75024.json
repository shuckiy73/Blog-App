{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NavigateHeader=()=>{const navigate=useNavigate();const API_LOGOUT=\"http://127.0.0.1:8000/api/v1/auth/token/logout/\";const API_REFRESH=\"http://127.0.0.1:8000/api/v1/auth/token/refresh/\";const API_VERIFY=\"http://127.0.0.1:8000/api/v1/auth/token/verify/\";const[username,setUsername]=useState(\"\");const[user_id,setUserId]=useState(null);// Функция для декодирования JWT\nfunction parseJwt(token){if(!token){return\"Нету токена\";}var base64Url=token.split('.')[1];var base64=base64Url.replace(/-/g,'+').replace(/_/g,'/');var jsonPayload=decodeURIComponent(atob(base64).split('').map(function(c){return'%'+('00'+c.charCodeAt(0).toString(16)).slice(-2);}).join(''));return JSON.parse(jsonPayload);}// Проверка наличия токена при загрузке страницы\nuseEffect(()=>{if(sessionStorage.getItem(\"auth_token\")){let tokens=JSON.parse(sessionStorage.getItem(\"auth_token\"));let user=parseJwt(tokens.refresh).username;let user_id=parseJwt(tokens.refresh).user_id;setUsername(user);setUserId(user_id);}else{console.log(\"NO TOKENS\",sessionStorage);}},[]);// Функция для обновления токенов\nasync function reset_tokens(refresh_token){console.log(\"tokens_REFRESH\",refresh_token);let response=await fetch(API_REFRESH,{method:\"POST\",body:JSON.stringify({refresh:refresh_token}),headers:{\"Content-Type\":\"application/json\",\"Accept\":\"*/*\"}});if(response.ok){console.log(\"REFRESH\",response.ok);sessionStorage.removeItem(\"auth_token\");let tk=await response.json();tk[\"refresh\"]=refresh_token;sessionStorage.setItem(\"auth_token\",JSON.stringify(tk));}else{console.log(\"REFRESH\",response);sessionStorage.removeItem(\"auth_token\");console.log(\"Нужна повторная авторизация\");navigate(\"/login\");}}// Функция для проверки валидности токена\nasync function verify_token(ta,tr){console.log(\"tokens_VERIFY\",ta);let response=await fetch(API_VERIFY,{method:\"POST\",body:JSON.stringify({token:ta}),headers:{\"Content-Type\":\"application/json\",\"Accept\":\"*/*\"}});if(response.ok){console.log('TOKENS IS VALID');return true;}else{console.log('TOKENS IS NOT VALID');await reset_tokens(tr);console.log('TOKENS IS UPDATE');return false;}}// Функция для выхода из системы\nasync function logout(){if(sessionStorage.getItem(\"auth_token\")){var tk=JSON.parse(sessionStorage.getItem(\"auth_token\"));console.log(\"get_tokens_from_sessionStorage_LOGOUT\",tk.refresh);let isValid=await verify_token(tk.access,tk.refresh);if(!isValid){var tk=JSON.parse(sessionStorage.getItem(\"auth_token\"));}}else{var tk={access:'false',refresh:'false'};}let response=await fetch(API_LOGOUT,{method:\"POST\",body:JSON.stringify({refresh_token:tk.refresh}),headers:{\"Content-Type\":\"application/json\",\"Accept\":\"*/*\",\"Authorization\":`Bearer ${tk.access}`}});if(response.ok){console.log('REMOVE TOKENS');sessionStorage.removeItem(\"auth_token\");navigate(0);}else{console.log(\"LOGOUT\",response);navigate(0);}}return/*#__PURE__*/_jsx(\"div\",{className:\"container justify-content-sm-center\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarTogglerDemo01\",\"aria-controls\":\"navbarTogglerDemo01\",\"aria-expanded\":\"false\",\"aria-label\":\"\\u041F\\u0435\\u0440\\u0435\\u043A\\u043B\\u044E\\u0447\\u0430\\u0442\\u0435\\u043B\\u044C \\u043D\\u0430\\u0432\\u0438\\u0433\\u0430\\u0446\\u0438\\u0438\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarTogglerDemo01\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"logo\",src:\"../../image/logo/kvartirnik_logo.png\",width:\"150\",height:\"70\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",\"aria-current\":\"page\",href:\"/\",children:\"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"#\",children:\"\\u0417\\u0430\\u0440\\u0430\\u0431\\u0430\\u0442\\u044B\\u0432\\u0430\\u0439\\u0442\\u0435 \\u043D\\u0430 \\u0441\\u0434\\u0430\\u0447\\u0435 \\u0436\\u0438\\u043B\\u044C\\u044F\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"/search\",children:\"\\u0411\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"#\",children:\"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435(\\u0441\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C \\u043A\\u0430\\u043A \\u043C\\u043E\\u0434\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435 \\u043E\\u043A\\u043D\\u043E)\"})}),sessionStorage.getItem(\"auth_token\")?/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"nav-link dropdown-toggle\",href:\"#\",id:\"navbarDropdownMenuLink\",role:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:[username,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"badge text-bg-secondary\",children:\"4\"})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"navbarDropdownMenuLink\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:`/profile/${user_id}/`,children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-item\",children:\"\\u041E\\u043F\\u043E\\u0432\\u0435\\u0449\\u0435\\u043D\\u0438\\u044F \"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",href:\"#\",onClick:()=>{logout();},children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})})]})]}):/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"/login\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})})]})]})]})})});};export default NavigateHeader;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","NavigateHeader","navigate","API_LOGOUT","API_REFRESH","API_VERIFY","username","setUsername","user_id","setUserId","parseJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","sessionStorage","getItem","tokens","user","refresh","console","log","reset_tokens","refresh_token","response","fetch","method","body","stringify","headers","ok","removeItem","tk","json","setItem","verify_token","ta","tr","logout","isValid","access","className","children","type","id","href","alt","src","width","height","role","to","onClick"],"sources":["K:/ARENDA/Booking_arenda/booking/src/Components/General page/NavigateHeader.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\n\r\nconst NavigateHeader = () => {\r\n    const navigate = useNavigate();\r\n    const API_LOGOUT = \"http://127.0.0.1:8000/api/v1/auth/token/logout/\";\r\n    const API_REFRESH = \"http://127.0.0.1:8000/api/v1/auth/token/refresh/\";\r\n    const API_VERIFY = \"http://127.0.0.1:8000/api/v1/auth/token/verify/\";\r\n\r\n    const [username, setUsername] = useState(\"\");\r\n    const [user_id, setUserId] = useState(null);\r\n\r\n    // Функция для декодирования JWT\r\n    function parseJwt(token) {\r\n        if (!token) {\r\n            return \"Нету токена\";\r\n        }\r\n        var base64Url = token.split('.')[1];\r\n        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n        var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\r\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n        }).join(''));\r\n        return JSON.parse(jsonPayload);\r\n    }\r\n\r\n    // Проверка наличия токена при загрузке страницы\r\n    useEffect(() => {\r\n        if (sessionStorage.getItem(\"auth_token\")) {\r\n            let tokens = JSON.parse(sessionStorage.getItem(\"auth_token\"));\r\n            let user = parseJwt(tokens.refresh).username;\r\n            let user_id = parseJwt(tokens.refresh).user_id;\r\n            setUsername(user);\r\n            setUserId(user_id);\r\n        } else {\r\n            console.log(\"NO TOKENS\", sessionStorage);\r\n        }\r\n    }, []);\r\n\r\n    // Функция для обновления токенов\r\n    async function reset_tokens(refresh_token) {\r\n        console.log(\"tokens_REFRESH\", refresh_token);\r\n        let response = await fetch(API_REFRESH, {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                refresh: refresh_token,\r\n            }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"*/*\",\r\n            },\r\n        });\r\n\r\n        if (response.ok) {\r\n            console.log(\"REFRESH\", response.ok);\r\n            sessionStorage.removeItem(\"auth_token\");\r\n            let tk = await response.json();\r\n            tk[\"refresh\"] = refresh_token;\r\n            sessionStorage.setItem(\"auth_token\", JSON.stringify(tk));\r\n        } else {\r\n            console.log(\"REFRESH\", response);\r\n            sessionStorage.removeItem(\"auth_token\");\r\n            console.log(\"Нужна повторная авторизация\");\r\n            navigate(\"/login\");\r\n        }\r\n    }\r\n\r\n    // Функция для проверки валидности токена\r\n    async function verify_token(ta, tr) {\r\n        console.log(\"tokens_VERIFY\", ta);\r\n        let response = await fetch(API_VERIFY, {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                token: ta,\r\n            }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"*/*\",\r\n            },\r\n        });\r\n\r\n        if (response.ok) {\r\n            console.log('TOKENS IS VALID');\r\n            return true;\r\n        } else {\r\n            console.log('TOKENS IS NOT VALID');\r\n            await reset_tokens(tr);\r\n            console.log('TOKENS IS UPDATE');\r\n            return false;\r\n        }\r\n    }\r\n\r\n    // Функция для выхода из системы\r\n    async function logout() {\r\n        if (sessionStorage.getItem(\"auth_token\")) {\r\n            var tk = JSON.parse(sessionStorage.getItem(\"auth_token\"));\r\n            console.log(\"get_tokens_from_sessionStorage_LOGOUT\", tk.refresh);\r\n\r\n            let isValid = await verify_token(tk.access, tk.refresh);\r\n            if (!isValid) {\r\n                var tk = JSON.parse(sessionStorage.getItem(\"auth_token\"));\r\n            }\r\n        } else {\r\n            var tk = {\r\n                access: 'false',\r\n                refresh: 'false'\r\n            }\r\n        }\r\n\r\n        let response = await fetch(API_LOGOUT, {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                refresh_token: tk.refresh,\r\n            }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"*/*\",\r\n                \"Authorization\": `Bearer ${tk.access}`\r\n            },\r\n        });\r\n\r\n        if (response.ok) {\r\n            console.log('REMOVE TOKENS');\r\n            sessionStorage.removeItem(\"auth_token\");\r\n            navigate(0);\r\n        } else {\r\n            console.log(\"LOGOUT\", response);\r\n            navigate(0);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container justify-content-sm-center\">\r\n            <nav className=\"navbar navbar-expand-lg navbar-light\">\r\n                <div className=\"container-fluid\">\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\"\r\n                            data-bs-target=\"#navbarTogglerDemo01\" aria-controls=\"navbarTogglerDemo01\"\r\n                            aria-expanded=\"false\" aria-label=\"Переключатель навигации\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo01\">\r\n                        <a className=\"navbar-brand\" href=\"/\">\r\n                            <img alt=\"logo\" src=\"../../image/logo/kvartirnik_logo.png\" width=\"150\" height=\"70\" />\r\n                        </a>\r\n                        <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link\" aria-current=\"page\" href=\"/\">Главная</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link\" href=\"#\">Зарабатывайте на сдаче жилья</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link\" href=\"/search\">Бронирование</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link\" href=\"#\">Избранное(сделать как модальное окно)</a>\r\n                            </li>\r\n                            {(sessionStorage.getItem(\"auth_token\")) ? (\r\n                                <li className=\"nav-item dropdown\">\r\n                                    <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdownMenuLink\"\r\n                                       role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                                        {username} <span className=\"badge text-bg-secondary\">4</span>\r\n                                    </a>\r\n                                    <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdownMenuLink\">\r\n                                        <li>\r\n                                            <Link className=\"dropdown-item\" to={`/profile/${user_id}/`}>Профиль</Link>\r\n                                        </li>\r\n                                        <li>\r\n                                            <span className=\"dropdown-item\">Оповещения </span>\r\n                                        </li>\r\n                                        <li>\r\n                                            <hr className=\"dropdown-divider\" />\r\n                                        </li>\r\n                                        <li>\r\n                                            <a className=\"dropdown-item\" href=\"#\" onClick={() => { logout() }}>Выйти</a>\r\n                                        </li>\r\n                                    </ul>\r\n                                </li>\r\n                            ) : (\r\n                                <li className=\"nav-item\">\r\n                                    <a className=\"nav-link\" href=\"/login\">Войти</a>\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NavigateHeader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}