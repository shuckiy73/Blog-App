{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Button}from'@mui/material';import Alert from\"@mui/material/Alert\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Booking=props=>{const[startD,setStartD]=useState(null);const[endD,setEndD]=useState(null);const[exchangeUSD,setExchangeUSD]=useState(0);const[username,setUsername]=useState(\"\");const[user_id,setUserId]=useState(null);const[error,setError]=useState(null);const[success,setSuccess]=useState(false);const API_BOOKING=\"http://127.0.0.1:8000/api/v1/booking/1\";const API_NBRB_USD_CURRENCY=\"https://api.nbrb.by/exrates/rates/431\";const API_REFRESH=\"http://127.0.0.1:8000/api/v1/auth/token/refresh/\";const API_VERIFY=\"http://127.0.0.1:8000/api/v1/auth/token/verify/\";const API_FAVORITE=\"http://127.0.0.1:8000/api/v1/add_to_favorite\";const HEADERS={'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7'};const handleDateChange=(event,setDate)=>{const date=new Date(event.target.value);setDate(date);};useEffect(()=>{const fetchExchangeRate=async()=>{try{const response=await fetch(API_NBRB_USD_CURRENCY,{method:\"GET\",headers:HEADERS});if(response.ok){const json=await response.json();setExchangeUSD(json.Cur_OfficialRate);}else{console.log(\"Ошибка HTTP: \"+response.status);}}catch(error){console.error(\"Ошибка при получении курса валют:\",error);}};fetchExchangeRate();if(sessionStorage.getItem(\"auth_token\")){const tokens=JSON.parse(sessionStorage.getItem(\"auth_token\"));const user=parseJwt(tokens.refresh).username;const user_id=parseJwt(tokens.refresh).user_id;setUsername(user);setUserId(user_id);}else{console.log(\"NO TOKENS\",sessionStorage);}},[]);const parseJwt=token=>{if(!token){return\"Нету токена\";}const base64Url=token.split('.')[1];const base64=base64Url.replace(/-/g,'+').replace(/_/g,'/');const jsonPayload=decodeURIComponent(atob(base64).split('').map(function(c){return'%'+('00'+c.charCodeAt(0).toString(16)).slice(-2);}).join(''));return JSON.parse(jsonPayload);};const reset_tokens=async refresh_token=>{try{const response=await fetch(API_REFRESH,{method:\"POST\",body:JSON.stringify({refresh:refresh_token}),headers:{\"Content-Type\":\"application/json\",\"Accept\":\"*/*\"}});if(response.ok){const tk=await response.json();tk[\"refresh\"]=refresh_token;sessionStorage.setItem(\"auth_token\",JSON.stringify(tk));}else{console.log(\"REFRESH\",response);sessionStorage.removeItem(\"auth_token\");alert(\"Для запроса нужна повторная авторизация\");}}catch(error){console.error(\"Ошибка при обновлении токенов:\",error);}};const verify_token=async(ta,tr)=>{try{const response=await fetch(API_VERIFY,{method:\"POST\",body:JSON.stringify({token:ta}),headers:{\"Content-Type\":\"application/json\",\"Accept\":\"*/*\"}});if(response.ok){return true;}else{await reset_tokens(tr);return false;}}catch(error){console.error(\"Ошибка при проверке токена:\",error);return false;}};const handleSubmit=async event=>{event.preventDefault();setError(null);setSuccess(false);const arrive=startD.toISOString().split('T')[0];const departure=endD.toISOString().split('T')[0];if(sessionStorage.getItem(\"auth_token\")){const tk=JSON.parse(sessionStorage.getItem(\"auth_token\"));const isValid=await verify_token(tk.access,tk.refresh);if(!isValid){return;}try{const response=await fetch(API_BOOKING,{method:\"POST\",body:JSON.stringify({id:props.id,arrive:arrive,departure:departure,tenant:user_id}),headers:{\"Content-Type\":\"application/json\",\"Accept\":\"*/*\",\"Authorization\":`Bearer ${tk.access}`}});if(response.ok){const data=await response.json();setSuccess(data);}else{const error=await response.json();setError(error);}}catch(error){console.error(\"Ошибка при отправке запроса:\",error);setError({error:\"Ошибка при отправке запроса\"});}}else{setError({error:\"Нужна авторизация\"});}};const handleFavorite=async()=>{if(sessionStorage.getItem(\"auth_token\")){const tk=JSON.parse(sessionStorage.getItem(\"auth_token\"));const user_id=parseJwt(tk.refresh).user_id;try{const response=await fetch(API_FAVORITE,{method:\"POST\",body:JSON.stringify({user:user_id,room_object:props.room_object}),headers:{\"Content-Type\":\"application/json\",\"Accept\":\"*/*\"}});if(response.ok){const data=await response.json();setSuccess(data);}else{const error=await response.json();setError(error);}}catch(error){console.error(\"Ошибка при добавлении в избранное:\",error);setError({error:\"Ошибка при добавлении в избранное\"});}}else{setError({error:\"Нужна авторизация\"});}};return/*#__PURE__*/_jsx(\"div\",{className:\"position-fixed\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(Button,{id:\"favorite\",variant:\"outlined\",color:\"success\",onClick:handleFavorite,children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-suit-heart\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"m8 6.236-.894-1.789c-.222-.443-.607-1.08-1.152-1.595C5.418 2.345 4.776 2 4 2 2.324 2 1 3.326 1 4.92c0 1.211.554 2.066 1.868 3.37.337.334.721.695 1.146 1.093C5.122 10.423 6.5 11.717 8 13.447c1.5-1.73 2.878-3.024 3.986-4.064.425-.398.81-.76 1.146-1.093C14.446 6.986 15 6.131 15 4.92 15 3.326 13.676 2 12 2c-.777 0-1.418.345-1.954.852-.545.515-.93 1.152-1.152 1.595L8 6.236zm.392 8.292a.513.513 0 0 1-.784 0c-1.601-1.902-3.05-3.262-4.243-4.381C1.3 8.208 0 6.989 0 4.92 0 2.755 1.79 1 4 1c1.6 0 2.719 1.05 3.404 2.008.26.365.458.716.596.992a7.55 7.55 0 0 1 .596-.992C9.281 2.049 10.4 1 12 1c2.21 0 4 1.755 4 3.92 0 2.069-1.3 3.288-3.365 5.227-1.193 1.12-2.642 2.48-4.243 4.38z\"})}),\"\\xA0\\u0412 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(Button,{id:\"shared\",variant:\"outlined\",color:\"success\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-share\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z\"})}),\"\\xA0\\u041F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\\u0441\\u044F\"]})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"form\",{method:\"POST\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container shadow-lg rounded-5\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"input\",{id:\"startDate\",className:\"pa__middle-input text form-control\",type:\"date\",placeholder:\"\\u0417\\u0430\\u0435\\u0437\\u0434\",onChange:e=>handleDateChange(e,setStartD)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"input\",{id:\"endDate\",className:\"form-control\",type:\"date\",placeholder:\"\\u041E\\u0442\\u044A\\u0435\\u0437\\u0434\",onChange:e=>handleDateChange(e,setEndD)})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041F\\u0440\\u0435\\u0434\\u043E\\u043F\\u043B\\u0430\\u0442\\u0430: \",props.prepayment,\" BYN (~\",(props.prepayment/exchangeUSD).toFixed(2),\" USD)\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0430 \\u0437\\u0430 \\u0441\\u0443\\u0442\\u043A\\u0438:\"}),\" \",props.payment_day,\" BYN (~\",(props.payment_day/exchangeUSD).toFixed(2),\" USD)\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0430 \\u043F\\u0440\\u0438 \\u0437\\u0430\\u0441\\u0435\\u043B\\u0435\\u043D\\u0438\\u0438: \",props.payment_day-props.prepayment,\" BYN (~\",((props.payment_day-props.prepayment)/exchangeUSD).toFixed(2),\" USD)\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041A\\u0443\\u0440\\u0441 \\u041D\\u0411 \\u0420\\u0411 \\u043D\\u0430 \",new Date().toLocaleDateString(),\": 1 USD - \",exchangeUSD,\" BYN\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"outlined\",color:\"success\",children:\"\\u0425\\u043E\\u0447\\u0443 \\u0437\\u0430\\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"})}),/*#__PURE__*/_jsx(\"br\",{})]})}),/*#__PURE__*/_jsx(\"br\",{}),error?/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error.error||error.detail||\"Произошла ошибка\"}):success?/*#__PURE__*/_jsx(Alert,{severity:\"success\",children:success.success||\"Операция выполнена успешно\"}):\"\"]})});};export default Booking;","map":{"version":3,"names":["React","useState","useEffect","Button","Alert","jsx","_jsx","jsxs","_jsxs","Booking","props","startD","setStartD","endD","setEndD","exchangeUSD","setExchangeUSD","username","setUsername","user_id","setUserId","error","setError","success","setSuccess","API_BOOKING","API_NBRB_USD_CURRENCY","API_REFRESH","API_VERIFY","API_FAVORITE","HEADERS","handleDateChange","event","setDate","date","Date","target","value","fetchExchangeRate","response","fetch","method","headers","ok","json","Cur_OfficialRate","console","log","status","sessionStorage","getItem","tokens","JSON","parse","user","parseJwt","refresh","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","reset_tokens","refresh_token","body","stringify","tk","setItem","removeItem","alert","verify_token","ta","tr","handleSubmit","preventDefault","arrive","toISOString","departure","isValid","access","id","tenant","data","handleFavorite","room_object","className","children","variant","color","onClick","xmlns","width","height","fill","viewBox","d","onSubmit","type","placeholder","onChange","e","prepayment","toFixed","payment_day","toLocaleDateString","severity","detail"],"sources":["K:/ARENDA/Booking_arenda/booking/src/Components/Search/Booking.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Button } from '@mui/material';\r\nimport Alert from \"@mui/material/Alert\";\r\n\r\nconst Booking = (props) => {\r\n    const [startD, setStartD] = useState(null);\r\n    const [endD, setEndD] = useState(null);\r\n    const [exchangeUSD, setExchangeUSD] = useState(0);\r\n    const [username, setUsername] = useState(\"\");\r\n    const [user_id, setUserId] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const [success, setSuccess] = useState(false);\r\n    const API_BOOKING = \"http://127.0.0.1:8000/api/v1/booking/1\";\r\n    const API_NBRB_USD_CURRENCY = \"https://api.nbrb.by/exrates/rates/431\";\r\n    const API_REFRESH = \"http://127.0.0.1:8000/api/v1/auth/token/refresh/\";\r\n    const API_VERIFY = \"http://127.0.0.1:8000/api/v1/auth/token/verify/\";\r\n    const API_FAVORITE = \"http://127.0.0.1:8000/api/v1/add_to_favorite\";\r\n\r\n    const HEADERS = {\r\n        'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',\r\n    };\r\n\r\n    const handleDateChange = (event, setDate) => {\r\n        const date = new Date(event.target.value);\r\n        setDate(date);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchExchangeRate = async () => {\r\n            try {\r\n                const response = await fetch(API_NBRB_USD_CURRENCY, { method: \"GET\", headers: HEADERS });\r\n                if (response.ok) {\r\n                    const json = await response.json();\r\n                    setExchangeUSD(json.Cur_OfficialRate);\r\n                } else {\r\n                    console.log(\"Ошибка HTTP: \" + response.status);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Ошибка при получении курса валют:\", error);\r\n            }\r\n        };\r\n\r\n        fetchExchangeRate();\r\n\r\n        if (sessionStorage.getItem(\"auth_token\")) {\r\n            const tokens = JSON.parse(sessionStorage.getItem(\"auth_token\"));\r\n            const user = parseJwt(tokens.refresh).username;\r\n            const user_id = parseJwt(tokens.refresh).user_id;\r\n            setUsername(user);\r\n            setUserId(user_id);\r\n        } else {\r\n            console.log(\"NO TOKENS\", sessionStorage);\r\n        }\r\n    }, []);\r\n\r\n    const parseJwt = (token) => {\r\n        if (!token) {\r\n            return \"Нету токена\";\r\n        }\r\n        const base64Url = token.split('.')[1];\r\n        const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n        const jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\r\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n        }).join(''));\r\n        return JSON.parse(jsonPayload);\r\n    };\r\n\r\n    const reset_tokens = async (refresh_token) => {\r\n        try {\r\n            const response = await fetch(API_REFRESH, {\r\n                method: \"POST\",\r\n                body: JSON.stringify({ refresh: refresh_token }),\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Accept\": \"*/*\",\r\n                },\r\n            });\r\n\r\n            if (response.ok) {\r\n                const tk = await response.json();\r\n                tk[\"refresh\"] = refresh_token;\r\n                sessionStorage.setItem(\"auth_token\", JSON.stringify(tk));\r\n            } else {\r\n                console.log(\"REFRESH\", response);\r\n                sessionStorage.removeItem(\"auth_token\");\r\n                alert(\"Для запроса нужна повторная авторизация\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Ошибка при обновлении токенов:\", error);\r\n        }\r\n    };\r\n\r\n    const verify_token = async (ta, tr) => {\r\n        try {\r\n            const response = await fetch(API_VERIFY, {\r\n                method: \"POST\",\r\n                body: JSON.stringify({ token: ta }),\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Accept\": \"*/*\",\r\n                },\r\n            });\r\n\r\n            if (response.ok) {\r\n                return true;\r\n            } else {\r\n                await reset_tokens(tr);\r\n                return false;\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Ошибка при проверке токена:\", error);\r\n            return false;\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        setError(null);\r\n        setSuccess(false);\r\n\r\n        const arrive = startD.toISOString().split('T')[0];\r\n        const departure = endD.toISOString().split('T')[0];\r\n\r\n        if (sessionStorage.getItem(\"auth_token\")) {\r\n            const tk = JSON.parse(sessionStorage.getItem(\"auth_token\"));\r\n            const isValid = await verify_token(tk.access, tk.refresh);\r\n\r\n            if (!isValid) {\r\n                return;\r\n            }\r\n\r\n            try {\r\n                const response = await fetch(API_BOOKING, {\r\n                    method: \"POST\",\r\n                    body: JSON.stringify({\r\n                        id: props.id,\r\n                        arrive: arrive,\r\n                        departure: departure,\r\n                        tenant: user_id,\r\n                    }),\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        \"Accept\": \"*/*\",\r\n                        \"Authorization\": `Bearer ${tk.access}`,\r\n                    },\r\n                });\r\n\r\n                if (response.ok) {\r\n                    const data = await response.json();\r\n                    setSuccess(data);\r\n                } else {\r\n                    const error = await response.json();\r\n                    setError(error);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Ошибка при отправке запроса:\", error);\r\n                setError({ error: \"Ошибка при отправке запроса\" });\r\n            }\r\n        } else {\r\n            setError({ error: \"Нужна авторизация\" });\r\n        }\r\n    };\r\n\r\n    const handleFavorite = async () => {\r\n        if (sessionStorage.getItem(\"auth_token\")) {\r\n            const tk = JSON.parse(sessionStorage.getItem(\"auth_token\"));\r\n            const user_id = parseJwt(tk.refresh).user_id;\r\n\r\n            try {\r\n                const response = await fetch(API_FAVORITE, {\r\n                    method: \"POST\",\r\n                    body: JSON.stringify({\r\n                        user: user_id,\r\n                        room_object: props.room_object,\r\n                    }),\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        \"Accept\": \"*/*\",\r\n                    },\r\n                });\r\n\r\n                if (response.ok) {\r\n                    const data = await response.json();\r\n                    setSuccess(data);\r\n                } else {\r\n                    const error = await response.json();\r\n                    setError(error);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Ошибка при добавлении в избранное:\", error);\r\n                setError({ error: \"Ошибка при добавлении в избранное\" });\r\n            }\r\n        } else {\r\n            setError({ error: \"Нужна авторизация\" });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"position-fixed\">\r\n            <div className=\"container-fluid\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col\">\r\n                            <Button id=\"favorite\" variant=\"outlined\" color=\"success\" onClick={handleFavorite}>\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-suit-heart\" viewBox=\"0 0 16 16\">\r\n                                    <path d=\"m8 6.236-.894-1.789c-.222-.443-.607-1.08-1.152-1.595C5.418 2.345 4.776 2 4 2 2.324 2 1 3.326 1 4.92c0 1.211.554 2.066 1.868 3.37.337.334.721.695 1.146 1.093C5.122 10.423 6.5 11.717 8 13.447c1.5-1.73 2.878-3.024 3.986-4.064.425-.398.81-.76 1.146-1.093C14.446 6.986 15 6.131 15 4.92 15 3.326 13.676 2 12 2c-.777 0-1.418.345-1.954.852-.545.515-.93 1.152-1.152 1.595L8 6.236zm.392 8.292a.513.513 0 0 1-.784 0c-1.601-1.902-3.05-3.262-4.243-4.381C1.3 8.208 0 6.989 0 4.92 0 2.755 1.79 1 4 1c1.6 0 2.719 1.05 3.404 2.008.26.365.458.716.596.992a7.55 7.55 0 0 1 .596-.992C9.281 2.049 10.4 1 12 1c2.21 0 4 1.755 4 3.92 0 2.069-1.3 3.288-3.365 5.227-1.193 1.12-2.642 2.48-4.243 4.38z\" />\r\n                                </svg>\r\n                                &nbsp;В избранное\r\n                            </Button>\r\n                        </div>\r\n                        <div className=\"col\">\r\n                            <Button id=\"shared\" variant=\"outlined\" color=\"success\">\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-share\" viewBox=\"0 0 16 16\">\r\n                                    <path d=\"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z\" />\r\n                                </svg>\r\n                                &nbsp;Поделиться\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <form method=\"POST\" onSubmit={handleSubmit}>\r\n                    <div className=\"container shadow-lg rounded-5\">\r\n                        <br />\r\n                        <div className=\"row\">\r\n                            <div className=\"col\">\r\n                                <input\r\n                                    id=\"startDate\"\r\n                                    className=\"pa__middle-input text form-control\"\r\n                                    type=\"date\"\r\n                                    placeholder=\"Заезд\"\r\n                                    onChange={(e) => handleDateChange(e, setStartD)}\r\n                                />\r\n                            </div>\r\n                            <div className=\"col\">\r\n                                <input\r\n                                    id=\"endDate\"\r\n                                    className=\"form-control\"\r\n                                    type=\"date\"\r\n                                    placeholder=\"Отъезд\"\r\n                                    onChange={(e) => handleDateChange(e, setEndD)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <br />\r\n                        <p>Предоплата: {props.prepayment} BYN (~{(props.prepayment / exchangeUSD).toFixed(2)} USD)</p>\r\n                        <p><span>Оплата за сутки:</span> {props.payment_day} BYN (~{(props.payment_day / exchangeUSD).toFixed(2)} USD)</p>\r\n                        <p>Оплата при заселении: {props.payment_day - props.prepayment} BYN (~{((props.payment_day - props.prepayment) / exchangeUSD).toFixed(2)} USD)</p>\r\n                        <hr />\r\n                        <p>Курс НБ РБ на {new Date().toLocaleDateString()}: 1 USD - {exchangeUSD} BYN</p>\r\n                        <br />\r\n                        <div className=\"row\">\r\n                            <Button type=\"submit\" variant=\"outlined\" color=\"success\">Хочу забронировать</Button>\r\n                        </div>\r\n                        <br />\r\n                    </div>\r\n                </form>\r\n                <br />\r\n                {error ? (\r\n                    <Alert severity=\"error\">{error.error || error.detail || \"Произошла ошибка\"}</Alert>\r\n                ) : success ? (\r\n                    <Alert severity=\"success\">{success.success || \"Операция выполнена успешно\"}</Alert>\r\n                ) : \"\"}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Booking;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}