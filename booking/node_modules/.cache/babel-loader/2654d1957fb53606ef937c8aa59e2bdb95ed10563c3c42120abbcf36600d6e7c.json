{"ast":null,"code":"var _jsxFileName = \"K:\\\\ARENDA\\\\Booking_arenda\\\\booking\\\\src\\\\Components\\\\General page\\\\NavigateHeader.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NavigateHeader = () => {\n  _s();\n  const navigate = useNavigate();\n  const API_LOGOUT = \"http://127.0.0.1:8000/api/v1/auth/token/logout/\";\n  const API_REFRESH = \"http://127.0.0.1:8000/api/v1/auth/token/refresh/\";\n  const API_VERIFY = \"http://127.0.0.1:8000/api/v1/auth/token/verify/\";\n  const [username, setUsername] = useState(\"\");\n  const [user_id, setUserId] = useState(null);\n\n  // Функция для декодирования JWT\n  function parseJwt(token) {\n    if (!token) {\n      return \"Нету токена\";\n    }\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n    return JSON.parse(jsonPayload);\n  }\n\n  // Проверка наличия токена при загрузке страницы\n  useEffect(() => {\n    if (sessionStorage.getItem(\"auth_token\")) {\n      let tokens = JSON.parse(sessionStorage.getItem(\"auth_token\"));\n      let user = parseJwt(tokens.refresh).username;\n      let user_id = parseJwt(tokens.refresh).user_id;\n      setUsername(user);\n      setUserId(user_id);\n    } else {\n      console.log(\"NO TOKENS\", sessionStorage);\n    }\n  }, []);\n\n  // Функция для обновления токенов\n  async function reset_tokens(refresh_token) {\n    console.log(\"tokens_REFRESH\", refresh_token);\n    let response = await fetch(API_REFRESH, {\n      method: \"POST\",\n      body: JSON.stringify({\n        refresh: refresh_token\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"*/*\"\n      }\n    });\n    if (response.ok) {\n      console.log(\"REFRESH\", response.ok);\n      sessionStorage.removeItem(\"auth_token\");\n      let tk = await response.json();\n      tk[\"refresh\"] = refresh_token;\n      sessionStorage.setItem(\"auth_token\", JSON.stringify(tk));\n    } else {\n      console.log(\"REFRESH\", response);\n      sessionStorage.removeItem(\"auth_token\");\n      console.log(\"Нужна повторная авторизация\");\n      navigate(\"/login\");\n    }\n  }\n\n  // Функция для проверки валидности токена\n  async function verify_token(ta, tr) {\n    console.log(\"tokens_VERIFY\", ta);\n    let response = await fetch(API_VERIFY, {\n      method: \"POST\",\n      body: JSON.stringify({\n        token: ta\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"*/*\"\n      }\n    });\n    if (response.ok) {\n      console.log('TOKENS IS VALID');\n      return true;\n    } else {\n      console.log('TOKENS IS NOT VALID');\n      await reset_tokens(tr);\n      console.log('TOKENS IS UPDATE');\n      return false;\n    }\n  }\n\n  // Функция для выхода из системы\n  async function logout() {\n    if (sessionStorage.getItem(\"auth_token\")) {\n      var tk = JSON.parse(sessionStorage.getItem(\"auth_token\"));\n      console.log(\"get_tokens_from_sessionStorage_LOGOUT\", tk.refresh);\n      let isValid = await verify_token(tk.access, tk.refresh);\n      if (!isValid) {\n        var tk = JSON.parse(sessionStorage.getItem(\"auth_token\"));\n      }\n    } else {\n      var tk = {\n        access: 'false',\n        refresh: 'false'\n      };\n    }\n    let response = await fetch(API_LOGOUT, {\n      method: \"POST\",\n      body: JSON.stringify({\n        refresh_token: tk.refresh\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"*/*\",\n        \"Authorization\": `Bearer ${tk.access}`\n      }\n    });\n    if (response.ok) {\n      console.log('REMOVE TOKENS');\n      sessionStorage.removeItem(\"auth_token\");\n      navigate(0);\n    } else {\n      console.log(\"LOGOUT\", response);\n      navigate(0);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container justify-content-sm-center\",\n    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar navbar-expand-lg navbar-light\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"navbar-toggler\",\n          type: \"button\",\n          \"data-bs-toggle\": \"collapse\",\n          \"data-bs-target\": \"#navbarTogglerDemo01\",\n          \"aria-controls\": \"navbarTogglerDemo01\",\n          \"aria-expanded\": \"false\",\n          \"aria-label\": \"\\u041F\\u0435\\u0440\\u0435\\u043A\\u043B\\u044E\\u0447\\u0430\\u0442\\u0435\\u043B\\u044C \\u043D\\u0430\\u0432\\u0438\\u0433\\u0430\\u0446\\u0438\\u0438\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"navbar-toggler-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"collapse navbar-collapse\",\n          id: \"navbarTogglerDemo01\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"navbar-brand\",\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"logo\",\n              src: \"../../image/logo/kvartirnik_logo.png\",\n              width: \"150\",\n              height: \"70\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"navbar-nav me-auto mb-2 mb-lg-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav-link\",\n                \"aria-current\": \"page\",\n                href: \"/\",\n                children: \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav-link\",\n                href: \"#\",\n                children: \"\\u0417\\u0430\\u0440\\u0430\\u0431\\u0430\\u0442\\u044B\\u0432\\u0430\\u0439\\u0442\\u0435 \\u043D\\u0430 \\u0441\\u0434\\u0430\\u0447\\u0435 \\u0436\\u0438\\u043B\\u044C\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav-link\",\n                href: \"/search\",\n                children: \"\\u0411\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav-link\",\n                href: \"#\",\n                children: \"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435(\\u0441\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C \\u043A\\u0430\\u043A \\u043C\\u043E\\u0434\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435 \\u043E\\u043A\\u043D\\u043E)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this), sessionStorage.getItem(\"auth_token\") ? /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item dropdown\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav-link dropdown-toggle\",\n                href: \"#\",\n                id: \"navbarDropdownMenuLink\",\n                role: \"button\",\n                \"data-bs-toggle\": \"dropdown\",\n                \"aria-expanded\": \"false\",\n                children: [username, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge text-bg-secondary\",\n                  children: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 52\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"dropdown-menu\",\n                \"aria-labelledby\": \"navbarDropdownMenuLink\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    className: \"dropdown-item\",\n                    to: `/profile/${user_id}/`,\n                    children: \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"dropdown-item\",\n                    children: \"\\u041E\\u043F\\u043E\\u0432\\u0435\\u0449\\u0435\\u043D\\u0438\\u044F \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"hr\", {\n                    className: \"dropdown-divider\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"dropdown-item\",\n                    href: \"#\",\n                    onClick: () => {\n                      logout();\n                    },\n                    children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav-link\",\n                href: \"/login\",\n                children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 9\n  }, this);\n};\n_s(NavigateHeader, \"LdKlopN+Z8wc/WS7A0DNfHVCP/c=\", false, function () {\n  return [useNavigate];\n});\n_c = NavigateHeader;\nexport default NavigateHeader;\nvar _c;\n$RefreshReg$(_c, \"NavigateHeader\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Link","jsxDEV","_jsxDEV","NavigateHeader","_s","navigate","API_LOGOUT","API_REFRESH","API_VERIFY","username","setUsername","user_id","setUserId","parseJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","sessionStorage","getItem","tokens","user","refresh","console","log","reset_tokens","refresh_token","response","fetch","method","body","stringify","headers","ok","removeItem","tk","json","setItem","verify_token","ta","tr","logout","isValid","access","className","children","type","fileName","_jsxFileName","lineNumber","columnNumber","id","href","alt","src","width","height","role","to","onClick","_c","$RefreshReg$"],"sources":["K:/ARENDA/Booking_arenda/booking/src/Components/General page/NavigateHeader.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\n\r\nconst NavigateHeader = () => {\r\n    const navigate = useNavigate();\r\n    const API_LOGOUT = \"http://127.0.0.1:8000/api/v1/auth/token/logout/\";\r\n    const API_REFRESH = \"http://127.0.0.1:8000/api/v1/auth/token/refresh/\";\r\n    const API_VERIFY = \"http://127.0.0.1:8000/api/v1/auth/token/verify/\";\r\n\r\n    const [username, setUsername] = useState(\"\");\r\n    const [user_id, setUserId] = useState(null);\r\n\r\n    // Функция для декодирования JWT\r\n    function parseJwt(token) {\r\n        if (!token) {\r\n            return \"Нету токена\";\r\n        }\r\n        var base64Url = token.split('.')[1];\r\n        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n        var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\r\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n        }).join(''));\r\n        return JSON.parse(jsonPayload);\r\n    }\r\n\r\n    // Проверка наличия токена при загрузке страницы\r\n    useEffect(() => {\r\n        if (sessionStorage.getItem(\"auth_token\")) {\r\n            let tokens = JSON.parse(sessionStorage.getItem(\"auth_token\"));\r\n            let user = parseJwt(tokens.refresh).username;\r\n            let user_id = parseJwt(tokens.refresh).user_id;\r\n            setUsername(user);\r\n            setUserId(user_id);\r\n        } else {\r\n            console.log(\"NO TOKENS\", sessionStorage);\r\n        }\r\n    }, []);\r\n\r\n    // Функция для обновления токенов\r\n    async function reset_tokens(refresh_token) {\r\n        console.log(\"tokens_REFRESH\", refresh_token);\r\n        let response = await fetch(API_REFRESH, {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                refresh: refresh_token,\r\n            }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"*/*\",\r\n            },\r\n        });\r\n\r\n        if (response.ok) {\r\n            console.log(\"REFRESH\", response.ok);\r\n            sessionStorage.removeItem(\"auth_token\");\r\n            let tk = await response.json();\r\n            tk[\"refresh\"] = refresh_token;\r\n            sessionStorage.setItem(\"auth_token\", JSON.stringify(tk));\r\n        } else {\r\n            console.log(\"REFRESH\", response);\r\n            sessionStorage.removeItem(\"auth_token\");\r\n            console.log(\"Нужна повторная авторизация\");\r\n            navigate(\"/login\");\r\n        }\r\n    }\r\n\r\n    // Функция для проверки валидности токена\r\n    async function verify_token(ta, tr) {\r\n        console.log(\"tokens_VERIFY\", ta);\r\n        let response = await fetch(API_VERIFY, {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                token: ta,\r\n            }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"*/*\",\r\n            },\r\n        });\r\n\r\n        if (response.ok) {\r\n            console.log('TOKENS IS VALID');\r\n            return true;\r\n        } else {\r\n            console.log('TOKENS IS NOT VALID');\r\n            await reset_tokens(tr);\r\n            console.log('TOKENS IS UPDATE');\r\n            return false;\r\n        }\r\n    }\r\n\r\n    // Функция для выхода из системы\r\n    async function logout() {\r\n        if (sessionStorage.getItem(\"auth_token\")) {\r\n            var tk = JSON.parse(sessionStorage.getItem(\"auth_token\"));\r\n            console.log(\"get_tokens_from_sessionStorage_LOGOUT\", tk.refresh);\r\n\r\n            let isValid = await verify_token(tk.access, tk.refresh);\r\n            if (!isValid) {\r\n                var tk = JSON.parse(sessionStorage.getItem(\"auth_token\"));\r\n            }\r\n        } else {\r\n            var tk = {\r\n                access: 'false',\r\n                refresh: 'false'\r\n            }\r\n        }\r\n\r\n        let response = await fetch(API_LOGOUT, {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                refresh_token: tk.refresh,\r\n            }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"*/*\",\r\n                \"Authorization\": `Bearer ${tk.access}`\r\n            },\r\n        });\r\n\r\n        if (response.ok) {\r\n            console.log('REMOVE TOKENS');\r\n            sessionStorage.removeItem(\"auth_token\");\r\n            navigate(0);\r\n        } else {\r\n            console.log(\"LOGOUT\", response);\r\n            navigate(0);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container justify-content-sm-center\">\r\n            <nav className=\"navbar navbar-expand-lg navbar-light\">\r\n                <div className=\"container-fluid\">\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\"\r\n                            data-bs-target=\"#navbarTogglerDemo01\" aria-controls=\"navbarTogglerDemo01\"\r\n                            aria-expanded=\"false\" aria-label=\"Переключатель навигации\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo01\">\r\n                        <a className=\"navbar-brand\" href=\"/\">\r\n                            <img alt=\"logo\" src=\"../../image/logo/kvartirnik_logo.png\" width=\"150\" height=\"70\" />\r\n                        </a>\r\n                        <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link\" aria-current=\"page\" href=\"/\">Главная</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link\" href=\"#\">Зарабатывайте на сдаче жилья</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link\" href=\"/search\">Бронирование</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link\" href=\"#\">Избранное(сделать как модальное окно)</a>\r\n                            </li>\r\n                            {(sessionStorage.getItem(\"auth_token\")) ? (\r\n                                <li className=\"nav-item dropdown\">\r\n                                    <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdownMenuLink\"\r\n                                       role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                                        {username} <span className=\"badge text-bg-secondary\">4</span>\r\n                                    </a>\r\n                                    <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdownMenuLink\">\r\n                                        <li>\r\n                                            <Link className=\"dropdown-item\" to={`/profile/${user_id}/`}>Профиль</Link>\r\n                                        </li>\r\n                                        <li>\r\n                                            <span className=\"dropdown-item\">Оповещения </span>\r\n                                        </li>\r\n                                        <li>\r\n                                            <hr className=\"dropdown-divider\" />\r\n                                        </li>\r\n                                        <li>\r\n                                            <a className=\"dropdown-item\" href=\"#\" onClick={() => { logout() }}>Выйти</a>\r\n                                        </li>\r\n                                    </ul>\r\n                                </li>\r\n                            ) : (\r\n                                <li className=\"nav-item\">\r\n                                    <a className=\"nav-link\" href=\"/login\">Войти</a>\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NavigateHeader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}